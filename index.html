<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Xml-invoices-reader by FernandoBernalMarn</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/FernandoBernalMarn/XML-Invoices-Reader">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/FernandoBernalMarn/XML-Invoices-Reader/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/FernandoBernalMarn/XML-Invoices-Reader/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Xml-invoices-reader</h1>
          <p>XML-Invoices-Reader</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/FernandoBernalMarn">FernandoBernalMarn</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a id="xml-invoices-reader" class="anchor" href="#xml-invoices-reader" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>XML-Invoices-Reader.</h1>

<p>This library provide an easy way to read invoices on .xml files, based on the Anexo 20 of the Servicio de Administración Tributarioa (SAT - México).</p>

<p><em>For more information go to <a href="https://github.com/FernandoBernalMarn/XML-Invoices-Reader/wiki">Wiki</a></em></p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p><a href="https://www.nuget.org/packages/XML-Invoices-Reader/">Nuget</a> (<em>version 2.1.0</em>)</p>

<pre><code>PM &gt; Install-Package XML-Invoices-Reader
</code></pre>

<h2>
<a id="entities-structure" class="anchor" href="#entities-structure" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Entities Structure:</h2>

<p>This is the structure to Entities, contains the most significant attributes of the XML files, the attributes mark as "Required" is the minium information that appear in the entities.</p>

<h3>
<a id="concepto" class="anchor" href="#concepto" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Concepto:</h3>

<pre><code>Cantidad (Required, Type: decimal).
Unidad (Required, Type: string).
Desceipcion (Required, Type: string).
ValorUnitario (Required, Type: decimal).
</code></pre>

<h3>
<a id="conceptos" class="anchor" href="#conceptos" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Conceptos:</h3>

<pre><code>ListaConceptos (Optional, Type: List &lt;Concepto&gt;).
</code></pre>

<h3>
<a id="domicilio" class="anchor" href="#domicilio" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Domicilio:</h3>

<pre><code>Calle (Required, Type: string).
CodigoPotal (Required, Type: string).
Colonia (Optional, Type: string).
Estado (Required, Type: string).
Localidad (Optional, Type: string).
Municipio (Required, Type: string).
NoExterior (Optional, Type: string).
NoInterior (Optional, Type: string).
Pais (Required, Type: string).
</code></pre>

<h3>
<a id="emisor" class="anchor" href="#emisor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Emisor:</h3>

<pre><code>RCF (Required).
Nombre (Optional).
Domicilio Fiscal (Optional, Type: Entity(Domicilio)).
ExpedidEn (Optional, Type: Entity(Domicilio)).
RegimenFiscal (Optional, Type: Entity(RegimenFiscal)).
</code></pre>

<h3>
<a id="factura" class="anchor" href="#factura" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Factura:</h3>

<pre><code>Conceptos (Optional, Type: List&lt;Concepto&gt;).
DatosFactura (Required, Type: Entity(FacturaXML)).
Emisor (Required, Type: Entity(Emisor)).
Impuestos (Required, Type: Entity(Impuestos)).
NombreArchivo (Required, Type: string).
</code></pre>

<h3>
<a id="facturaxml" class="anchor" href="#facturaxml" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FacturaXML:</h3>

<pre><code>Serie (Optional, Type: string).
Folio (Optional, Type: string).
Fecha (Required, Type: DateTime).
Sello (Required, Type: string).
FormaDePago (Required, Type: string).
NoCertificado (Required, Type: string).
Certificado (Required, Type: string).
CondicionesDePago (Optional, Type: string).
Subtotal (Optional, Type: decimal).
Moneda (Optional, Type: string).
Total (Required, Type: decimal).
MetodoDePago (Required, Type: string).
LugarExpedicion (Required, Type: string).
</code></pre>

<h3>
<a id="impuestos" class="anchor" href="#impuestos" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Impuestos:</h3>

<pre><code>Retenciones (Optional, Type: List&lt;Retencion&gt;).
Traslados (Optional, Type: List&lt;Traslado&gt;).
TotalImpuestosRetenidos (Optional, Type: string).
TotalImpuestosTrasladados (Optional, Type: string).
</code></pre>

<h3>
<a id="receptor" class="anchor" href="#receptor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Receptor:</h3>

<pre><code>RFC (Required, Type: string).
Nombre (Optional, Type: string).
Domicilio (Optional, Type: Entity(Domicilio)).
</code></pre>

<h3>
<a id="regimenfiscal" class="anchor" href="#regimenfiscal" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>RegimenFiscal:</h3>

<pre><code>Regimen (Required, Type: string).
</code></pre>

<h3>
<a id="retencion" class="anchor" href="#retencion" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Retencion:</h3>

<pre><code>Importe (Required, Type: decimal).
Impuesto (Required, Type: string).
</code></pre>

<h3>
<a id="traslado" class="anchor" href="#traslado" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Traslado:</h3>

<pre><code>Importe (Required, Type: decimal).
Impuesto (Required, Type: string).
Tasa (Required, Type: decimal).
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">using</span> LectorFacturasXML<span class="pl-k">;</span>
<span class="pl-k">using</span> LectorFacturasXML.Entidades<span class="pl-k">;</span>
<span class="pl-k">using</span> System.IO<span class="pl-k">;</span>
<span class="pl-k">using</span> System.Xml<span class="pl-k">;</span>

<span class="pl-c">// From Local File</span>
Factura invoiceLocalFile = FromLocalFile.GetData(<span class="pl-s"><span class="pl-pds">@"..\localPathXmlFile.xml"</span></span>);

<span class="pl-c">// From String </span>
<span class="pl-k">string</span> xmlString = File.ReadAllText(<span class="pl-s"><span class="pl-pds">@"..\localPathXmlFile.xml"</span></span>);
Factura invoiceString = FromString.GetData(xmlString, <span class="pl-s"><span class="pl-pds">"</span>FileName<span class="pl-pds">"</span></span>);

<span class="pl-c">// From XmlDocument</span>
XmlDocument xmlDoc = <span class="pl-k">new</span> XmlDocument();
xmlDoc.Load(<span class="pl-s"><span class="pl-pds">@"..\localPathXmlFile.xml"</span></span>);

Factura invoiceXmlDocument = ReadXML.GetData(xmlDoc, <span class="pl-s"><span class="pl-pds">"</span>FileName<span class="pl-pds">"</span></span>);</pre></div>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
